<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>iOS 开发工程师面试心得 | xaoxuu&#39;s blog</title><link rel="alternate" href="/blog/atom.xml" title="xaoxuu's blog"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#f24e32"><meta name="msapplication-TileColor" content="#f24e32"><meta name="msapplication-config" content="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/browserconfig.xml"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.6.3/css/all.min.css"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicon.ico" type="image/x-icon"><link rel="icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/favicon-32x32.png" type="image/x-icon" sizes="32x32"><link rel="apple-touch-icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/apple-touch-icon.png" type="image/png" sizes="180x180"><link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/safari-pinned-tab.svg" color="#f24e32"><link rel="manifest" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/site.webmanifest"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.1.18/css/style.css"><script>function setLoadingBarProgress(e){document.getElementById("loading-bar").style.width=e+"%"}</script></head><body><div id="loading-bar-wrapper"><div id="loading-bar" class="pure"></div></div><script>setLoadingBarProgress(20)</script><header class="l_header pure"><div class="wrapper"><div class="nav-main container container--flex"><a class="logo flat-box" href="/blog/">xaoxuu's blog</a><div class="menu"><ul class="h-list"><li><a id="https:xaoxuu.com" class="nav flat-box" href="https://xaoxuu.com/"><i class="fas fa-home fa-fw"></i>&nbsp;主页</a></li><li><a id="blog" class="nav flat-box" href="/blog/"><i class="fas fa-rss fa-fw"></i>&nbsp;博客</a></li><li><a id="blogarchives" class="nav flat-box" href="/blog/archives/"><i class="fas fa-archive fa-fw"></i>&nbsp;归档</a></li><li><a id="blogfriends" class="nav flat-box" href="/blog/friends/"><i class="fas fa-users fa-fw"></i>&nbsp;朋友</a></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder="搜索"> <span class="icon"><i class="fas fa-search fa-fw"></i></span></form></div><ul class="switcher h-list"><li class="s-search"><a class="fas fa-search fa-fw" href="javascript:void(0)"></a></li><li class="s-menu"><a class="fas fa-bars fa-fw" href="javascript:void(0)"></a></li></ul></div><div class="nav-sub container container--flex"><a class="logo flat-box"></a><ul class="switcher h-list"><li class="s-comment"><a class="flat-btn fas fa-comments fa-fw" href="javascript:void(0)"></a></li><li class="s-toc"><a class="flat-btn fas fa-list fa-fw" href="javascript:void(0)"></a></li></ul></div></div></header><aside class="menu-phone"><header><nav class="menu"><ul><li><a id="https:xaoxuu.com" class="nav flat-box" href="https://xaoxuu.com/"><i class="fas fa-home fa-fw"></i>&nbsp;主页</a></li><li><a id="blog" class="nav flat-box" href="/blog/"><i class="fas fa-rss fa-fw"></i>&nbsp;博客</a></li><li><a id="blogarchives" class="nav flat-box" href="/blog/archives/"><i class="fas fa-archive fa-fw"></i>&nbsp;归档</a></li><li><a id="blogfriends" class="nav flat-box" href="/blog/friends/"><i class="fas fa-users fa-fw"></i>&nbsp;朋友</a></li></ul></nav></header></aside><script>setLoadingBarProgress(40)</script><div class="l_body"><div class="container clearfix"><div class="l_main"><article id="post" class="post white-box article-type-post" itemscope="" itemprop="blogPost"><section class="meta"><div class="meta" id="header-meta"><h1 class="title">iOS 开发工程师面试心得</h1><time class="metatag time"><i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;2018-05-05 星期六</time><div class="metatag cats"><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;<a class="categories" href="/blog/categories/cocoa-dev/">Cocoa Dev</a></div><div class="metatag browse busuanzi"><i class="fas fa-eye fa-fw" aria-hidden="true"></i> &nbsp;<span id="busuanzi_value_page_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></div></div></section><section class="article typo"><div class="article-entry" itemprop="articleBody"><p>最近找工作已经面试了6家公司，既有初创公司也有上市公司，现利用周末时间总结一下面试被问的频率高的技术问题，本文最近几天会持续更新。</p><table><thead><tr><th style="text-align:left">技术点</th><th style="text-align:left">频率</th></tr></thead><tbody><tr><td style="text-align:left">Runtime机制及其应用</td><td style="text-align:left">★★★★★</td></tr><tr><td style="text-align:left">RunLoop原理及其应用</td><td style="text-align:left">★★★★★</td></tr><tr><td style="text-align:left">多线程技术</td><td style="text-align:left">★★★★★</td></tr><tr><td style="text-align:left">网络技术</td><td style="text-align:left">★★★★★</td></tr><tr><td style="text-align:left">内存管理理解及其应用</td><td style="text-align:left">★★★★★</td></tr><tr><td style="text-align:left">性能优化</td><td style="text-align:left">★★★★★</td></tr><tr><td style="text-align:left">系统架构设计</td><td style="text-align:left">★★★★☆</td></tr><tr><td style="text-align:left">Block</td><td style="text-align:left">★★★★☆</td></tr><tr><td style="text-align:left">CoreGraphics、UIBezierPath、CoreAnimation</td><td style="text-align:left">★★★★☆</td></tr><tr><td style="text-align:left">数据结构和算法</td><td style="text-align:left">★★★★☆</td></tr><tr><td style="text-align:left">第三方库</td><td style="text-align:left">★★★☆☆</td></tr></tbody></table><p>其中智能硬件行业的公司会问蓝牙BLE的技术点：数据分包、传输、校验、加密。<br>另外，<a href="https://xaoxuu.com/wiki/axkit/">AXKit</a>（个人开源库）的简介中的功能的实现思路也是必问的。</p><a id="more"></a><h2 id="Runtime常见的应用场景有哪些？"><a href="#Runtime常见的应用场景有哪些？" class="headerlink" title="Runtime常见的应用场景有哪些？"></a>Runtime常见的应用场景有哪些？</h2><p>主要有以下几种：关联对象，给分类增加属性、动态添加方法、Method Swizzling 交换方法、拦截系统方法的调用、自动归档解档、字典转模型、万能控制器跳转、KVO的底层实现、JSPatch热更新。</p><h3 id="关联对象，给分类增加属性"><a href="#关联对象，给分类增加属性" class="headerlink" title="关联对象，给分类增加属性"></a>关联对象，给分类增加属性</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 关联对象</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">objc_setAssociatedObject</span><span class="params">(id object, <span class="keyword">const</span> <span class="keyword">void</span> *key, id value, objc_AssociationPolicy policy)</span></span></span><br><span class="line"><span class="function"><span class="comment">// 获取关联的对象</span></span></span><br><span class="line"><span class="function">id <span class="title">objc_getAssociatedObject</span><span class="params">(id object, <span class="keyword">const</span> <span class="keyword">void</span> *key)</span></span></span><br><span class="line"><span class="function"><span class="comment">// 移除关联的对象</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">objc_removeAssociatedObjects</span><span class="params">(id object)</span></span></span><br></pre></td></tr></table></figure><p>例如给一个名为Person的类的分类添加一个books属性：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">void</span> *KEY_BOOKS = &amp;KEY_BOOKS;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span> (<span class="title">Books</span>)</span></span><br><span class="line">- (<span class="keyword">void</span>)setBooks:(<span class="built_in">NSArray</span> *)books&#123;</span><br><span class="line">    objc_setAssociatedObject(<span class="keyword">self</span>, KEY_BOOKS, books, OBJC_ASSOCIATION_RETAIN_NONATOMIC);</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="built_in">NSArray</span> *)books&#123;</span><br><span class="line">    <span class="keyword">return</span> objc_getAssociatedObject(<span class="keyword">self</span>, KEY_BOOKS);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><h3 id="动态添加方法（performSelector）"><a href="#动态添加方法（performSelector）" class="headerlink" title="动态添加方法（performSelector）"></a>动态添加方法（performSelector）</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BOOL <span class="title">class_addMethod</span><span class="params">(Class _Nullable cls, SEL _Nonnull name, IMP _Nonnull imp, <span class="keyword">const</span> <span class="keyword">char</span> * _Nullable types)</span></span>;</span><br></pre></td></tr></table></figure><p>通过<code>performSelector</code>调用某个方法，如果在运行时找不到<code>Selector</code>对应的实现，会执行消息转发，在<code>resolveInstanceMethod</code>或<code>resolveClassMethod</code>中将函数与对象的<code>Selector</code>关联起来。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> eat(<span class="keyword">id</span> <span class="keyword">self</span>, SEL sel) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@ %@"</span>,<span class="keyword">self</span>, <span class="built_in">NSStringFromSelector</span>(sel));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">BOOL</span>)resolveInstanceMethod:(SEL)sel &#123;</span><br><span class="line">    <span class="keyword">if</span> (sel == <span class="keyword">@selector</span>(eat)) &#123;</span><br><span class="line">        class_addMethod(<span class="keyword">self</span>, <span class="keyword">@selector</span>(eat), eat, <span class="string">"v@:"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> [<span class="keyword">super</span> resolveInstanceMethod:sel];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><h3 id="Method-Swizzling-交换方法、拦截系统方法的调用"><a href="#Method-Swizzling-交换方法、拦截系统方法的调用" class="headerlink" title="Method Swizzling 交换方法、拦截系统方法的调用"></a>Method Swizzling 交换方法、拦截系统方法的调用</h3><p>每个类都维护一个方法列表，Method则包含SEL和其对应IMP的信息，方法交换做的事情就是把SEL和IMP的对应关系断开，并和新的IMP生成对应关系。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)exchangeClassMethodImplementations:(Class)cls selector1:(SEL)selector1 selector2:(SEL)selector2&#123;</span><br><span class="line">    Method m1 = class_getClassMethod(cls, selector1);</span><br><span class="line">    Method m2 = class_getClassMethod(cls, selector2);</span><br><span class="line">    method_exchangeImplementations(m1, m2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">void</span>)exchangeInstanceMethodImplementations:(Class)cls selector1:(SEL)selector1 selector2:(SEL)selector2&#123;</span><br><span class="line">    Method m1 = class_getInstanceMethod(cls, selector1);</span><br><span class="line">    Method m2 = class_getInstanceMethod(cls, selector2);</span><br><span class="line">    method_exchangeImplementations(m1, m2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="自动归档解档"><a href="#自动归档解档" class="headerlink" title="自动归档解档"></a>自动归档解档</h3><p>遍历Model自身所有属性，并对属性进行encode和decode操作。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>)initWithCoder:(<span class="built_in">NSCoder</span> *)aDecoder &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">int</span> outCount;</span><br><span class="line">        Ivar * ivars = class_copyIvarList([<span class="keyword">self</span> <span class="keyword">class</span>], &amp;outCount);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; outCount; i ++) &#123;</span><br><span class="line">            Ivar ivar = ivars[i];</span><br><span class="line">            <span class="built_in">NSString</span> * key = [<span class="built_in">NSString</span> stringWithUTF8String:ivar_getName(ivar)];</span><br><span class="line">            [<span class="keyword">self</span> setValue:[aDecoder decodeObjectForKey:key] forKey:key];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)encodeWithCoder:(<span class="built_in">NSCoder</span> *)aCoder &#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> outCount;</span><br><span class="line">    Ivar * ivars = class_copyIvarList([<span class="keyword">self</span> <span class="keyword">class</span>], &amp;outCount);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; outCount; i ++) &#123;</span><br><span class="line">        Ivar ivar = ivars[i];</span><br><span class="line">        <span class="built_in">NSString</span> * key = [<span class="built_in">NSString</span> stringWithUTF8String:ivar_getName(ivar)];</span><br><span class="line">        [aCoder encodeObject:[<span class="keyword">self</span> valueForKey:key] forKey:key];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="访问私有变量"><a href="#访问私有变量" class="headerlink" title="访问私有变量"></a>访问私有变量</h3><p>通过<code>getIvar</code>可以获取到任意已知name的成员变量的值。</p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ivar ivar = <span class="keyword">class</span><span class="number">_</span>getInstanceVariable([Model <span class="keyword">class</span>], <span class="string">"_str1"</span>);</span><br><span class="line">NSString * str<span class="number">1</span> = <span class="keyword">object</span><span class="number">_</span>getIvar(model, ivar);</span><br></pre></td></tr></table></figure><h3 id="字典转模型的KVC实现"><a href="#字典转模型的KVC实现" class="headerlink" title="字典转模型的KVC实现"></a>字典转模型的KVC实现</h3><p>遍历Model自身所有属性，从json中找到与属性对应的值，通过KVC将其赋值。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ivar:成员变量 以下划线开头</span></span><br><span class="line"><span class="comment">// Property:属性</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)modelWithDict:(<span class="built_in">NSDictionary</span> *)dict &#123;</span><br><span class="line">    <span class="keyword">id</span> objc = [[<span class="keyword">self</span> alloc] init];</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 获取成员变量数组</span></span><br><span class="line">    Ivar *ivarList = class_copyIvarList(<span class="keyword">self</span>, &amp;count);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历所有成员变量</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">        <span class="comment">// 获取成员变量</span></span><br><span class="line">        Ivar ivar = ivarList[i];</span><br><span class="line">        <span class="comment">// 获取成员变量名字</span></span><br><span class="line">        <span class="built_in">NSString</span> *ivarName = [<span class="built_in">NSString</span> stringWithUTF8String:ivar_getName(ivar)];</span><br><span class="line">        <span class="comment">// 获取成员变量类型</span></span><br><span class="line">        <span class="built_in">NSString</span> *ivarType = [<span class="built_in">NSString</span> stringWithUTF8String:ivar_getTypeEncoding(ivar)];</span><br><span class="line">        <span class="comment">// @\"User\" -&gt; User</span></span><br><span class="line">        ivarType = [ivarType stringByReplacingOccurrencesOfString:<span class="string">@"\""</span> withString:<span class="string">@""</span>];</span><br><span class="line">        ivarType = [ivarType stringByReplacingOccurrencesOfString:<span class="string">@"@"</span> withString:<span class="string">@""</span>];</span><br><span class="line">        <span class="comment">// 获取key</span></span><br><span class="line">        <span class="built_in">NSString</span> *key = [ivarName substringFromIndex:<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 去字典中查找对应value</span></span><br><span class="line">        <span class="comment">// key:user  value:NSDictionary</span></span><br><span class="line">        <span class="keyword">id</span> value = dict[key];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 二级转换:判断下value是否是字典,如果是,字典转换层对应的模型</span></span><br><span class="line">        <span class="comment">// 并且是自定义对象才需要转换</span></span><br><span class="line">        <span class="keyword">if</span> ([value isKindOfClass:[<span class="built_in">NSDictionary</span> <span class="keyword">class</span>]] &amp;&amp; ![ivarType hasPrefix:<span class="string">@"NS"</span>]) &#123;</span><br><span class="line">            <span class="comment">// 字典转换成模型 userDict =&gt; User模型</span></span><br><span class="line">            Class modelClass = <span class="built_in">NSClassFromString</span>(ivarType);</span><br><span class="line">            value = [modelClass modelWithDict:value];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 给模型中属性赋值</span></span><br><span class="line">        <span class="keyword">if</span> (value) &#123;</span><br><span class="line">            [objc setValue:value forKey:key];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> objc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考资料：<a href="http://www.cnblogs.com/jys509/p/5207159.html#autoid-3-4-0" rel="external nofollow noopener noreferrer" target="_blank">http://www.cnblogs.com/jys509/p/5207159.html#autoid-3-4-0</a></p><h3 id="实现万能控制器跳转"><a href="#实现万能控制器跳转" class="headerlink" title="实现万能控制器跳转"></a>实现万能控制器跳转</h3><p>利用runtime动态生成对象、属性、方法这特性，我们可以先跟服务端商量好，定义跳转规则，比如要跳转到A控制器，需要传属性id、type，那么服务端返回字典给我，里面有控制器名，两个属性名跟属性值，客户端就可以根据控制器名生成对象，再用kvc给对象赋值。</p><p>参考资料：<a href="http://www.cocoachina.com/ios/20150824/13104.html" rel="external nofollow noopener noreferrer" target="_blank">http://www.cocoachina.com/ios/20150824/13104.html</a></p><h3 id="JSPatch热更新"><a href="#JSPatch热更新" class="headerlink" title="JSPatch热更新"></a>JSPatch热更新</h3><p>能做到通过JS调用和改写OC方法最根本的原因是 Objective-C 是动态语言，OC上所有方法的调用/类的生成都通过 Objective-C Runtime 在运行时进行，我们可以通过类名/方法名反射得到相应的类和方法，也可以替换某个类的方法为新的实现，还可以新注册一个类，为类添加方法。所以 JSPatch 的原理就是：JS传递字符串给OC，OC通过 Runtime 接口调用和替换OC方法。</p><p>参考资料：<a href="https://segmentfault.com/a/1190000003648832" rel="external nofollow noopener noreferrer" target="_blank">https://segmentfault.com/a/1190000003648832</a></p><h3 id="KVO的底层实现"><a href="#KVO的底层实现" class="headerlink" title="KVO的底层实现"></a>KVO的底层实现</h3><p>KVO是基于runtime机制实现的，当某个类的对象第一次被观察时，系统就会在运行期动态地创建该类的一个派生类，在这个派生类中重写基类中任何被观察属性的setter方法。</p><h2 id="OC方法调用流程是怎样的？"><a href="#OC方法调用流程是怎样的？" class="headerlink" title="OC方法调用流程是怎样的？"></a>OC方法调用流程是怎样的？</h2><p>OC是运行时语言，方法调用的本质，就是让对象发送消息：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">id <span class="title">objc_msgSend</span> <span class="params">( id self, SEL op, ... )</span></span>;</span><br></pre></td></tr></table></figure><p>具体的流程如下：</p><ol><li>通过isa指针找到所属类</li><li>查找类的cache列表, 如果没有则下一步</li><li>查找类的”方法列表”</li><li>如果能找到与选择子名称相符的方法, 就跳至其实现代码</li><li>找不到, 就沿着继承体系继续向上查找</li><li>如果能找到与选择子名称相符的方法, 就跳至其实现代码</li><li>找不到, 执行”消息转发”。</li></ol><h2 id="消息转发机制的理解和应用？"><a href="#消息转发机制的理解和应用？" class="headerlink" title="消息转发机制的理解和应用？"></a>消息转发机制的理解和应用？</h2><p>如果收到无法解读的消息，会尝试做消息转发，即以下三种补救措施：</p><h3 id="1-动态方法解析"><a href="#1-动态方法解析" class="headerlink" title="1. 动态方法解析"></a>1. 动态方法解析</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">BOOL</span>)resolveInstanceMethod:(SEL)sel;</span><br><span class="line">+ (<span class="built_in">BOOL</span>)resolveClassMethod:(SEL)sel;</span><br></pre></td></tr></table></figure><h3 id="2-备用接收者"><a href="#2-备用接收者" class="headerlink" title="2. 备用接收者"></a>2. 备用接收者</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>)forwardingTargetForSelector:(SEL)aSelector;</span><br></pre></td></tr></table></figure><h3 id="3-完整的消息转发"><a href="#3-完整的消息转发" class="headerlink" title="3. 完整的消息转发"></a>3. 完整的消息转发</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)forwardInvocation:(<span class="built_in">NSInvocation</span> *)anInvocation;</span><br></pre></td></tr></table></figure><h2 id="如何让多个方法指向同一个实现？"><a href="#如何让多个方法指向同一个实现？" class="headerlink" title="如何让多个方法指向同一个实现？"></a>如何让多个方法指向同一个实现？</h2><h2 id="isa指针是什么？"><a href="#isa指针是什么？" class="headerlink" title="isa指针是什么？"></a>isa指针是什么？</h2><p>在Objective-C中，任何类的定义都是对象。类和类的实例（对象）没有任何本质上的区别。任何对象都有isa指针，指向对象的类。</p><ul><li>每一个对象本质上都是一个类的实例。其中类定义了成员变量和成员方法的列表。对象通过对象的isa指针指向类。</li><li>每一个类本质上都是一个对象，类其实是元类（metaclass）的实例。元类定义了类方法的列表。类通过类的isa指针指向元类。</li><li>所有的元类最终继承一个根元类，根元类isa指针指向本身，形成一个封闭的内循环。</li></ul><h2 id="在分类中重写了原类中的方法，实际调用情况是怎样的？"><a href="#在分类中重写了原类中的方法，实际调用情况是怎样的？" class="headerlink" title="在分类中重写了原类中的方法，实际调用情况是怎样的？"></a>在分类中重写了原类中的方法，实际调用情况是怎样的？</h2><p>只调用分类中的实现而不调用原类中的实现。</p><p>因为category的底层实现是在加载的时候，把category中的方法添加到原类的方法列表中，当调用方法时会遍历方法列表找到对应的响应子就返回，不再向下遍历。因为category的优先级高于类的优先级，使得原类中的选择子遍历不到。</p><h2 id="成员变量的本质是什么？"><a href="#成员变量的本质是什么？" class="headerlink" title="成员变量的本质是什么？"></a>成员变量的本质是什么？</h2><h3 id="成员变量的定义"><a href="#成员变量的定义" class="headerlink" title="成员变量的定义"></a>成员变量的定义</h3><p><strong>Ivar</strong>: 实例变量类型，是一个指向objc_ivar结构体的指针</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">objc_ivar</span> *<span class="title">Ivar</span>;</span></span><br></pre></td></tr></table></figure><p>操作函数：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取所有成员变量</span></span><br><span class="line">class_copyIvarList</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取成员变量名</span></span><br><span class="line">ivar_getName</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取成员变量类型编码</span></span><br><span class="line">ivar_getTypeEncoding</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取指定名称的成员变量</span></span><br><span class="line">class_getInstanceVariable</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取某个对象成员变量的值</span></span><br><span class="line">object_getIvar</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置某个对象成员变量的值</span></span><br><span class="line">object_setIvar</span><br></pre></td></tr></table></figure><p>获取成员变量的方法：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">Ivar * ivars = class_copyIvarList([Model class], &amp;count);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i ++) &#123;</span><br><span class="line">    Ivar ivar = ivars[i];</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> * name = ivar_getName(ivar);</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> * type = ivar_getTypeEncoding(ivar);</span><br><span class="line">    NSLog(@<span class="string">"类型为 %s 的 %s "</span>,type, name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">free</span>(ivars);</span><br></pre></td></tr></table></figure><h3 id="属性的定义"><a href="#属性的定义" class="headerlink" title="属性的定义"></a>属性的定义</h3><p>objc_property_t：声明的属性的类型，是一个指向objc_property结构体的指针</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">objc_property</span> *<span class="title">objc_property_t</span>;</span></span><br></pre></td></tr></table></figure><p>操作函数：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取所有属性，不会获取无@property声明的成员变量</span></span><br><span class="line">class_copyPropertyList</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取属性名</span></span><br><span class="line">property_getName</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取属性特性描述字符串</span></span><br><span class="line">property_getAttributes</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取所有属性特性</span></span><br><span class="line">property_copyAttributeList</span><br></pre></td></tr></table></figure><p>参考资料：<a href="https://www.jianshu.com/p/d361f169423b" rel="external nofollow noopener noreferrer" target="_blank">https://www.jianshu.com/p/d361f169423b</a></p><h2 id="RunLoop的作用是什么？"><a href="#RunLoop的作用是什么？" class="headerlink" title="RunLoop的作用是什么？"></a>RunLoop的作用是什么？</h2><p>RunLoop的作用有：</p><ol><li>等待事件发生：使程序一直运行接受用户输入</li><li>计划事件：决定程序在何时应该处理哪些Event</li><li>调用解耦：事件产生方不需要等待事件处理结束再产生下一个事件</li><li>节省CPU时间：等待事件发生时不需要耗费CPU</li></ol><p>RunLoop相关参考资料：<a href="https://segmentfault.com/a/1190000004938638?from=singlemessage&amp;isappinstalled=1" rel="external nofollow noopener noreferrer" target="_blank">RunLoop知识树</a></p><h2 id="RunLoop的几种mode？"><a href="#RunLoop的几种mode？" class="headerlink" title="RunLoop的几种mode？"></a>RunLoop的几种mode？</h2><ul><li><p><strong>NSDefaultRunLoopMode/kCFRunLoopDefaultMode</strong></p><p>default模式，可以用于大多数操作。在大多数时间，应该使用这种模式来启动和设置输入源。</p></li><li><p><strong>NSEventTrackingRunLoopMode</strong></p><p>Cocoa使用这种模式来约束鼠标拖拽或其它用户界面追踪循环的事件。</p></li><li><p><strong>NSRunLoopCommonModes/kCFRunLoopCommonModes</strong></p><p>这是一个通用的模式组，使用这种模式关联输入源，同样会关联这个模式组里面的每一种模式。对于Cocoa应用来说，这个集合包含了 default、modal以及event tracking模式。</p></li><li><p><strong>NSConnectionReplyMode</strong></p></li><li><p><strong>NSModalPanelRunLoopMode</strong></p></li></ul><h2 id="RunLoop和线程的关系"><a href="#RunLoop和线程的关系" class="headerlink" title="RunLoop和线程的关系?"></a>RunLoop和线程的关系?</h2><p>一般来讲，一个线程一次只能执行一个任务，执行完成后线程就会退出。如果我们需要让线程随时处理事件但并不退出，就需要给线程开启RunLoop。</p><p>程序不自动退出是因为主线程自动开启了RunLoop。</p><p>开启RunLoop的方法：<code>[NSRunLoop currentRunLoop]</code>获取当前线程的runloop，若不存在系统会创建一个。</p><h2 id="RunLoop有哪些应用？"><a href="#RunLoop有哪些应用？" class="headerlink" title="RunLoop有哪些应用？"></a>RunLoop有哪些应用？</h2><h3 id="scrollView滑动（mode切换保证滑动不卡顿）"><a href="#scrollView滑动（mode切换保证滑动不卡顿）" class="headerlink" title="scrollView滑动（mode切换保证滑动不卡顿）"></a>scrollView滑动（mode切换保证滑动不卡顿）</h3><p>当tableview的cell上有需要从网络获取的图片的时候，滚动tableView，异步线程会去加载图片，加载完成后主线程就会设置cell的图片，但是会造成卡顿。可以让设置图片的任务在CFRunLoopDefaultMode下进行，当滚动tableView的时候，RunLoop是在 UITrackingRunLoopMode 下进行，不去设置图片，而是当停止的时候，再去设置图片。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIImage</span> *downloadedImage = ...;</span><br><span class="line">[<span class="keyword">self</span>.avatarImageView performSelector:<span class="keyword">@selector</span>(setImage:) withObject:downloadedImage afterDelay:<span class="number">0</span> inModes:@[<span class="built_in">NSDefaultRunLoopMode</span>]];</span><br></pre></td></tr></table></figure><h3 id="RunLoop监听：AFNetworking中监听网络请求"><a href="#RunLoop监听：AFNetworking中监听网络请求" class="headerlink" title="RunLoop监听：AFNetworking中监听网络请求"></a>RunLoop监听：AFNetworking中监听网络请求</h3><p>使用NSOperation+NSURLConnection并发模型都会面临NSURLConnection下载完成前线程退出导致NSOperation对象接收不到回调的问题。NSURLConnection的delegate方法需要在connection发起的线程runloop中调用，于是AFNetWorking单独起一个global thread，内置一个runloop，所有的connection都由这个runloop发起，回调也是它接收，不占用主线程，也不耗CPU资源。</p><h3 id="NSTimer-timer触发"><a href="#NSTimer-timer触发" class="headerlink" title="NSTimer(timer触发)"></a>NSTimer(timer触发)</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSTimer</span> *timer = [<span class="built_in">NSTimer</span> timerWithTimeInterval:<span class="number">60</span> block:^(<span class="built_in">NSTimer</span> * _Nonnull timer) &#123;</span><br><span class="line"></span><br><span class="line">&#125; repeats:<span class="literal">YES</span>];</span><br><span class="line">[[<span class="built_in">NSRunLoop</span> currentRunLoop] addTimer:timer forMode:<span class="built_in">NSRunLoopCommonModes</span>];</span><br></pre></td></tr></table></figure><ul><li>UIEvent事件响应和手势识别(source0事件处理 &amp; source1底层硬件触发)</li><li>AutoRelease(observer，runloop一次循环结束或autorelease pool满了的时候释放)</li><li>NSObject（NSDelayPerforming(timer)，NSThreadPerformAddition(source0)）</li><li>dispatch_get_main_queue()（serve for dispatch main）</li><li>UI界面刷新、CATransition、CAAnimation(observer) CADisplayLink(source1)</li><li>NSURLConnection(source0处理回调 &amp; source1接收Socket消息) AFNetworking(内置全局线程和runloop管理网络请求)</li><li>AsyncDisplayKit</li></ul><h2 id="对象什么时候会被释放？"><a href="#对象什么时候会被释放？" class="headerlink" title="对象什么时候会被释放？"></a>对象什么时候会被释放？</h2><p>当对象没有被任何变量引用（也可以说是没有指针指向该对象）的时候，就会被释放。</p><p>那怎么知道对象已经没有被引用了呢？OC采用引用计数来进行管理：</p><ul><li>每个对象都有一个关联的整数，称为引用计数器</li><li>当代码需要使用该对象时，则将对象的引用计数加1</li><li>当代码结束使用该对象时，则将对象的引用计数减1</li><li>当引用计数的值变为0时，表示对象没有被任何代码使用，此时对象将被释放。</li></ul><p>当不再使用一个对象时应该将其释放，但是在某些情况下，我们很难理清一个对象什么时候不再使用，需要使用autoreleasepool。对象接收到autorelease消息时，它会被添加到了当前的自动释放池中，当自动释放池被销毁时，会給池里所有的对象发送release消息。autoreleasepool一般是在事件处理之前创建，在事件处理之后释放。</p><h2 id="经典内存泄漏及解决方案？"><a href="#经典内存泄漏及解决方案？" class="headerlink" title="经典内存泄漏及解决方案？"></a>经典内存泄漏及解决方案？</h2><h3 id="僵尸对象和野指针"><a href="#僵尸对象和野指针" class="headerlink" title="僵尸对象和野指针"></a>僵尸对象和野指针</h3><p>僵尸对象是指内存已经被回收的对象，指向僵尸对象的指针就是野指针，向野指针发送消息会导致崩溃：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXC_BAD_ACCESS</span><br></pre></td></tr></table></figure><p>解决方案：当对象释放后，应该将其置为nil。</p><h3 id="循环引用"><a href="#循环引用" class="headerlink" title="循环引用"></a>循环引用</h3><p>ARC时代最常出现的内存管理问题是循环引用，即对象A强引用对象B，对象B强引用对象A，或者多个对象强引用形成一个闭环。block会对内部使用的对象进行强引用，因此在使用的时候应该确定不会引起循环引用。</p><p>解决方案：使用弱引用或主动断开循环。</p><h3 id="循环产生的内存峰值"><a href="#循环产生的内存峰值" class="headerlink" title="循环产生的内存峰值"></a>循环产生的内存峰值</h3><p>循环内产生大量的临时对象，直至循环结束才释放，可能导致内存泄漏。</p><p>解决方案：在循环中创建自己的autoreleasepool，及时释放占用内存大的临时变量，减少内存占用峰值。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5000</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="built_in">NSNumber</span> *num = [<span class="built_in">NSNumber</span> numberWithInt:i];</span><br><span class="line">        [num performOperationOnNumber];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="重写dealloc方法"><a href="#重写dealloc方法" class="headerlink" title="重写dealloc方法"></a>重写dealloc方法</h3><p>由于释放对象是会调用dealloc方法，因此重写dealloc方法来查看对象释放的情况，如果没有调用则会造成内存泄露。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)dealloc &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"deallocated"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="说说你所知道的排序算法及其时间复杂度？"><a href="#说说你所知道的排序算法及其时间复杂度？" class="headerlink" title="说说你所知道的排序算法及其时间复杂度？"></a>说说你所知道的排序算法及其时间复杂度？</h2><table><thead><tr><th>类别</th><th>排序方法</th><th>平均时间复杂度</th><th>最优时间复杂度</th><th>最差时间复杂度</th><th>空间复杂度</th><th>稳定性</th><th>复杂性</th></tr></thead><tbody><tr><td>插入排序</td><td>直接插入</td><td>O(n<sup>2</sup>)</td><td>O(n)</td><td>O(n<sup>2</sup>)</td><td>O(1)</td><td>稳定</td><td>简单</td></tr><tr><td>插入排序</td><td>希尔排序</td><td>O(n<sup>1.3</sup>)</td><td>O(n)</td><td>O(n<sup>2</sup>)</td><td>O(1)</td><td>不稳定</td><td>复杂</td></tr><tr><td>选择排序</td><td>直接选择</td><td>O(n<sup>2</sup>)</td><td>O(n<sup>2</sup>)</td><td>O(n<sup>2</sup>)</td><td>O(1)</td><td>不稳定</td><td>简单</td></tr><tr><td>选择排序</td><td>堆排序</td><td>O(nlog<sub>2</sub>n)</td><td>O(nlog<sub>2</sub>n)</td><td>O(nlog<sub>2</sub>n)</td><td>O(1)</td><td>不稳定</td><td>复杂</td></tr><tr><td>交换排序</td><td>冒泡排序</td><td>O(n<sup>2</sup>)</td><td>O(n)</td><td>O(n<sup>2</sup>)</td><td>O(1)</td><td>稳定</td><td>简单</td></tr><tr><td>交换排序</td><td>快速排序</td><td>O(nlog<sub>2</sub>n)</td><td>O(nlog<sub>2</sub>n)</td><td>O(n<sup>2</sup>)</td><td>O(nlog<sub>2</sub>n) ~ O(n)</td><td>不稳定</td><td>复杂</td></tr><tr><td></td><td>归并排序</td><td>O(nlog<sub>2</sub>n)</td><td>O(nlog<sub>2</sub>n)</td><td>O(nlog<sub>2</sub>n)</td><td>O(n)</td><td>稳定</td><td>复杂</td></tr><tr><td></td><td>基数排序</td><td>O(d(r+n))</td><td>O(d(r+n))</td><td>O(d(r+n))</td><td>O(rd+n)</td><td>稳定</td><td>复杂</td></tr></tbody></table><p>基数排序中，r代表关键字的基数，d代表长度，n代表关键字个数。</p><blockquote><p>参考资料：<a href="https://blog.csdn.net/jiajing_guo/article/details/69388331" rel="external nofollow noopener noreferrer" target="_blank">《各种常用排序算法的时间复杂度和空间复杂度》</a></p></blockquote><h2 id="如何不用中间变量交换A和B？"><a href="#如何不用中间变量交换A和B？" class="headerlink" title="如何不用中间变量交换A和B？"></a>如何不用中间变量交换A和B？</h2><h3 id="加减法"><a href="#加减法" class="headerlink" title="加减法"></a>加减法</h3><p>该方法可以交换整型和浮点型数值的变量，但在处理浮点型的时候有可能出现精度的损失。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = a + b;</span><br><span class="line">b = a - b;</span><br><span class="line">a = a - b;</span><br></pre></td></tr></table></figure><h3 id="异或法"><a href="#异或法" class="headerlink" title="异或法"></a>异或法</h3><p>可以完成对整型变量的交换，对于浮点型变量它无法完成交换。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = a^b;</span><br><span class="line">b = a^b;</span><br><span class="line">a = a^b;</span><br></pre></td></tr></table></figure><h3 id="乘除法"><a href="#乘除法" class="headerlink" title="乘除法"></a>乘除法</h3><p>可以处理整型和浮点型变量，但在处理浮点型变量时也存在精度损失问题。而且乘除法比加减法要多一条约束：b必不为0。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = a * b;</span><br><span class="line">b = a / b;</span><br><span class="line">a = a / b;</span><br></pre></td></tr></table></figure><p><br><br></p><hr><p><br></p><p>暂时更新到这里，以下这些未整理完毕的问题我每天晚上抽时间逐个整理：</p><h2 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h2><p><strong>Q：谈谈你对多线程的理解、GCD几种常用函数的使用</strong></p><p><strong>Q：如何实现A/B/C三个任务同步执行，然后D/E/F并发执行</strong></p><p><strong>Q：进程和线程的关系</strong></p><p><strong>Q：如果tableview的cell中的图片还未加载完就滑出屏幕外了，这种情况如何处理</strong></p><p><strong>Q：数据库如何解决资源竞争问题</strong></p><p><strong>Q：你所知道的几种同步锁</strong></p><p><strong>Q：如何控制最大并发数</strong></p><p><strong>Q：如何处理线程安全问题</strong></p><h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><p><strong>Q：说说你对Socket的理解</strong></p><p><strong>Q：如何进行Socket连接</strong></p><p><strong>Q：TCP和UDP的区别</strong></p><p><strong>Q：HTTP协议</strong></p><p><strong>Q：说说你对AFNetworking的理解</strong></p><p><strong>Q：如何自己实现GET和POST网络请求</strong></p><p><strong>Q：NSURLConnection和NSURLSession的理解和使用</strong></p><h2 id="架构设计"><a href="#架构设计" class="headerlink" title="架构设计"></a>架构设计</h2><p><strong>Q：MVC设计模式</strong></p><h2 id="蓝牙"><a href="#蓝牙" class="headerlink" title="蓝牙"></a>蓝牙</h2><p><strong>Q：说下你的数据分包策略</strong></p><p><strong>Q：数据传输校验的策略</strong></p><p><strong>Q：蓝牙数据加密策略</strong></p><h2 id="Block"><a href="#Block" class="headerlink" title="Block"></a>Block</h2><p><strong>Q：Block的几种类型</strong></p><h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><p><strong>Q：UIView和CALayer的关系和区别？</strong></p><p><strong>Q：贝塞尔曲线的绘制（折线图）</strong></p><p><strong>Q：心率助手这个动画是怎么实现的？</strong></p><p><strong>Q：什么时候会触发离屏渲染</strong></p><h2 id="第三方库"><a href="#第三方库" class="headerlink" title="第三方库"></a>第三方库</h2><p><strong>Q：常用的第三方库</strong></p><p><strong>Q：SDWebImage实现原理</strong></p><p><strong>Q：是否阅读过YYKit的源码</strong></p><p><strong>Q：AsyncDisplayKit是否会用</strong></p><p><strong>Q：为什么用AFNetworking</strong></p><p><strong>Q：是否了解ReactiveCocoa（RAC）框架？</strong></p><h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><p><strong>Q：性能优化的几种方法</strong></p><h2 id="关于AXKit"><a href="#关于AXKit" class="headerlink" title="关于AXKit"></a>关于AXKit</h2><p><strong>Q：NSString和NSDate的链式语法封装如何实现的？</strong></p><p><strong>Q：NSDateFormatter开销大，如何解决？</strong></p><p><strong>Q：代码冷却机制是如何实现的？</strong></p><p><strong>Q：万能控制器跳转是如何实现的？</strong></p></div><section class="meta" id="footer-meta"><time class="metatag time" itemprop="dateUpdated" datetime="2018-05-06T00:00:00+08:00" content="2018-05-06 星期日"><i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i> &nbsp;2018-05-06 星期日</time><div class="metatag tags"><a class="tag" href="/blog/tags/ios/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>&nbsp;iOS</a></div><div class="metatag share -mob-share-list"><i class="left fas fa-share-alt fa-fw" aria-hidden="true"></i><div class="-mob-share-list share-body"><a class="-mob-share-qq" title="QQ好友" rel="external nofollow noopener noreferrer" href="http://connect.qq.com/widget/shareqq/index.html?url=https://xaoxuu.com/blog/2018-05-05-ios-interview/&title=iOS 开发工程师面试心得 | xaoxuu's blog&pics=https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png&summary=最近找工作已经面试了6家公司，既有初创公司也有上市公司，现利用周末时间总结一下面试被问的频率高的技术问题，本文最近几天会持续更新。技术点频率Runtime机制及其应用★★★★★RunLoop原理及其应用★★★★★多线程技术★★★★★网络技术★★★★★内存管理理解及其应用★★★★★性能优化★★★★★系统架构设计★★★★☆Block★★★★☆CoreGraphics、UIBezierPath、CoreAnimation★★★★☆数据结构和算法★★★★☆第三方库★★★☆☆其中智能硬件行业的公司会问蓝牙BLE的技术点：数据分包、传输、校验、加密。另外，AXKit（个人开源库）的简介中的功能的实现思路也是必问的。" target="_blank"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0/img/qq/亲亲.gif" data-original="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qq.png"> </a><a class="-mob-share-qzone" title="QQ空间" rel="external nofollow noopener noreferrer" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://xaoxuu.com/blog/2018-05-05-ios-interview/&title=iOS 开发工程师面试心得 | xaoxuu's blog&pics=https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png&summary=最近找工作已经面试了6家公司，既有初创公司也有上市公司，现利用周末时间总结一下面试被问的频率高的技术问题，本文最近几天会持续更新。技术点频率Runtime机制及其应用★★★★★RunLoop原理及其应用★★★★★多线程技术★★★★★网络技术★★★★★内存管理理解及其应用★★★★★性能优化★★★★★系统架构设计★★★★☆Block★★★★☆CoreGraphics、UIBezierPath、CoreAnimation★★★★☆数据结构和算法★★★★☆第三方库★★★☆☆其中智能硬件行业的公司会问蓝牙BLE的技术点：数据分包、传输、校验、加密。另外，AXKit（个人开源库）的简介中的功能的实现思路也是必问的。" target="_blank"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0/img/qq/亲亲.gif" data-original="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qzone.png"> </a><a class="qrcode" rel="external nofollow noopener noreferrer" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACN0lEQVR42u3azW6DMBBF4bz/S1Opq1YJ5tyxXZXheBUl1PCxmHp+Xi+8ju/18/P7N/zK9+/Prl+8ZMiQcVvGMVzjG5zdkvzt+Bn4s8mQIeM5jPkgS5AkmJ7d5WIfGTJkyADHuHHQJOFVhgwZMlYxxkc9kqDyA6gMGTJkpDfgQZOHbP7KluXiMmTIuCGj1hj4m8/b+xsyZMj494wjXLXgSApwM0uGDBm9GWmZLP2e78YPfMEJV4YMGY0YaXGtduXMbsEAmQwZMtoxuJIPiqWDX/zgeLqPDBkyHsDgI188pK4q2BVzcRkyZDRi1Grv+0r8M69JhgwZXRnpWAMfBasNfi1IYmXIkNGUwVPT2q9pm5M0OH/tLEOGjNaMmWkrDtsxoBYksTJkyGjB4A+XtiTTQQ1e+PuwmwwZMh7ASAPcPJukvsHMiAwZMpoy0gZh2gCoFfrTNFiGDBm9GeSBSMirjXzNFOkujoYyZMhoxKiV6XcU5niRLvi/IUOGjBaM8RZpqJ3vTvAhjAuwDBkyGjHS4a308MeHwPh9ZciQIYMEuGKLsXQNCu4yZMhozUiTyVqKy9NgfqwMxs5kyJBxc8YRLlLQ5ykxH7m4eK0yZMhozaidr+IaXonBD44yZMh4AiNtQPIkNh3a4IH4dGZEhgwZrRlpkE0feuaIia6XIUOGjA1DY2lqepFay5AhQwZ+FJ528qAsQ4YMGbUkttYYCI566eCFDBkyWjNmGgMoFJaajosBMmTIuCvjCxQJFBlWIJlLAAAAAElFTkSuQmCC" target="_blank"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0/img/qq/亲亲.gif" data-original="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/wechat.png"> </a><a class="-mob-share-weibo" title="微博" rel="external nofollow noopener noreferrer" href="http://service.weibo.com/share/share.php?url=https://xaoxuu.com/blog/2018-05-05-ios-interview/&title=iOS 开发工程师面试心得 | xaoxuu's blog&pics=https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png&summary=最近找工作已经面试了6家公司，既有初创公司也有上市公司，现利用周末时间总结一下面试被问的频率高的技术问题，本文最近几天会持续更新。技术点频率Runtime机制及其应用★★★★★RunLoop原理及其应用★★★★★多线程技术★★★★★网络技术★★★★★内存管理理解及其应用★★★★★性能优化★★★★★系统架构设计★★★★☆Block★★★★☆CoreGraphics、UIBezierPath、CoreAnimation★★★★☆数据结构和算法★★★★☆第三方库★★★☆☆其中智能硬件行业的公司会问蓝牙BLE的技术点：数据分包、传输、校验、加密。另外，AXKit（个人开源库）的简介中的功能的实现思路也是必问的。" target="_blank"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0/img/qq/亲亲.gif" data-original="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/weibo.png"> </a><a class="qrcode" rel="external nofollow noopener noreferrer" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACN0lEQVR42u3azW6DMBBF4bz/S1Opq1YJ5tyxXZXheBUl1PCxmHp+Xi+8ju/18/P7N/zK9+/Prl+8ZMiQcVvGMVzjG5zdkvzt+Bn4s8mQIeM5jPkgS5AkmJ7d5WIfGTJkyADHuHHQJOFVhgwZMlYxxkc9kqDyA6gMGTJkpDfgQZOHbP7KluXiMmTIuCGj1hj4m8/b+xsyZMj494wjXLXgSApwM0uGDBm9GWmZLP2e78YPfMEJV4YMGY0YaXGtduXMbsEAmQwZMtoxuJIPiqWDX/zgeLqPDBkyHsDgI188pK4q2BVzcRkyZDRi1Grv+0r8M69JhgwZXRnpWAMfBasNfi1IYmXIkNGUwVPT2q9pm5M0OH/tLEOGjNaMmWkrDtsxoBYksTJkyGjB4A+XtiTTQQ1e+PuwmwwZMh7ASAPcPJukvsHMiAwZMpoy0gZh2gCoFfrTNFiGDBm9GeSBSMirjXzNFOkujoYyZMhoxKiV6XcU5niRLvi/IUOGjBaM8RZpqJ3vTvAhjAuwDBkyGjHS4a308MeHwPh9ZciQIYMEuGKLsXQNCu4yZMhozUiTyVqKy9NgfqwMxs5kyJBxc8YRLlLQ5ykxH7m4eK0yZMhozaidr+IaXonBD44yZMh4AiNtQPIkNh3a4IH4dGZEhgwZrRlpkE0feuaIia6XIUOGjA1DY2lqepFay5AhQwZ+FJ528qAsQ4YMGbUkttYYCI566eCFDBkyWjNmGgMoFJaajosBMmTIuCvjCxQJFBlWIJlLAAAAAElFTkSuQmCC" target="_blank"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0/img/qq/亲亲.gif" data-original="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qrcode.png"></a></div></div></section><div class="prev-next"><section class="prev"><span class="art-item-left"><h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;上一页</h6><h4><a href="/blog/2018-07-30-noticeboard/" rel="prev" title="使用 NoticeBoard 迅捷而优雅地发布通知">使用 NoticeBoard 迅捷而优雅地发布通知</a></h4><h6 class="tags"><a class="tag" href="/blog/tags/ios/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>iOS</a> <a class="tag" href="/blog/tags/开源库/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>开源库</a></h6></span></section><section class="next"><span class="art-item-right" aria-hidden="true"><h6>下一页&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6><h4><a href="/blog/2017-12-25-merge-localizable-strings/" rel="prev" title="整理混乱不堪的各国语言翻译">整理混乱不堪的各国语言翻译</a></h4><h6 class="tags"><a class="tag" href="/blog/tags/ios/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>iOS</a></h6></span></section></div></section></article><br><article class="post white-box comments"><section class="article typo"><div class="recommended_posts"><h4><i class="fas fa-bookmark fa-fw" aria-hidden="true"></i>&nbsp;相关文章</h4><ul><li><a href="https://xaoxuu.com/blog/2018-07-30-noticeboard/">使用 NoticeBoard 迅捷而优雅地发布通知</a></li><li><a href="https://xaoxuu.com/blog/2017-12-25-merge-localizable-strings/">整理混乱不堪的各国语言翻译</a></li><li><a href="https://xaoxuu.com/blog/2017-11-09-gcd-delay/">iOS 推迟而不重复执行函数</a></li><li><a href="https://xaoxuu.com/blog/2017-09-14-chartview/">AXChartView 一个简单而漂亮的图表工具类</a></li></ul></div><h4><i class="fas fa-comments fa-fw" aria-hidden="true"></i>&nbsp;评论</h4><section id="comments"><div id="valine_container" class="valine_thread"><i class="fas fa-spinner fa-spin fa-fw"></i></div></section></section></article><script>window.subData={title:"iOS 开发工程师面试心得",tools:!0}</script></div><aside class="l_side"><section class="author"><div class="content pure"><div class="avatar"><img class="avatar" src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png"></div><div class="text"><p><span id="jinrishici-sentence">柳暗花明又一村</span></p><script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script></div><div class="social-wrapper"><a href="/blog/atom.xml" class="social flat-btn" target="_blank" rel="external"><i class="social fas fa-rss" aria-hidden="true"></i></a> <a href="mailto:me@xaoxuu.com" class="social flat-btn" target="_blank" rel="external"><i class="social fas fa-envelope" aria-hidden="true"></i></a> <a href="https://github.com/xaoxuu" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><i class="social fab fa-github" aria-hidden="true"></i></a> <a href="https://twitter.com/xaoxuu" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><i class="social fab fa-twitter" aria-hidden="true"></i></a> <a href="https://music.163.com/#/user/home?id=63035382" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><i class="social fas fa-headphones-alt" aria-hidden="true"></i></a></div></div></section><section class="plain"><header class="pure"><div><i class="fas fa-bullhorn fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;注意啦～</div><a class="rightBtn" target="_blank" rel="external nofollow noopener noreferrer" href="https://xaoxuu.com/wiki/material-x/" title="https://xaoxuu.com/wiki/material-x/"><i class="fas fa-question-circle fa-fw"></i></a></header><div class="content pure"><p>本站使用 <a href="https://xaoxuu.com/wiki/material-x/">Material X</a> 作为主题，喜欢这个主题的朋友可以阅读文档进行安装哦，超喜欢的话还可以安利给身边的朋友哦～</p></div></section><section class="category"><header class="pure"><div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;所有分类</div></header><div class="content pure"><ul class="entry"><li><a class="flat-box" title="/blog/categories/cocoa-dev/" href="/blog/categories/cocoa-dev/"><div class="name">Cocoa Dev</div><div class="badge">(18)</div></a></li><li><a class="flat-box" title="/blog/categories/dev/" href="/blog/categories/dev/"><div class="name">Dev</div><div class="badge">(3)</div></a></li><li><a class="flat-box" title="/blog/categories/life/" href="/blog/categories/life/"><div class="name">Life</div><div class="badge">(3)</div></a></li></ul></div></section><section class="tagcloud"><header class="pure"><div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;热门标签</div></header><div class="content pure"><a href="/blog/tags/axkit/" style="font-size:19px;color:#777">AXKit</a> <a href="/blog/tags/alamofire/" style="font-size:14px;color:#999">Alamofire</a> <a href="/blog/tags/cocoapods/" style="font-size:16.5px;color:#888">CocoaPods</a> <a href="/blog/tags/gcd/" style="font-size:14px;color:#999">GCD</a> <a href="/blog/tags/hexo/" style="font-size:14px;color:#999">Hexo</a> <a href="/blog/tags/reactivecocoa/" style="font-size:14px;color:#999">ReactiveCocoa</a> <a href="/blog/tags/strava/" style="font-size:16.5px;color:#888">Strava</a> <a href="/blog/tags/swift/" style="font-size:14px;color:#999">Swift</a> <a href="/blog/tags/architecture/" style="font-size:14px;color:#999">architecture</a> <a href="/blog/tags/blog/" style="font-size:14px;color:#999">blog</a> <a href="/blog/tags/cooldown/" style="font-size:14px;color:#999">cooldown</a> <a href="/blog/tags/fit/" style="font-size:16.5px;color:#888">fit</a> <a href="/blog/tags/framework/" style="font-size:14px;color:#999">framework</a> <a href="/blog/tags/git/" style="font-size:16.5px;color:#888">git</a> <a href="/blog/tags/ios/" style="font-size:24px;color:#555">iOS</a> <a href="/blog/tags/objc/" style="font-size:14px;color:#999">objc</a> <a href="/blog/tags/runtime/" style="font-size:14px;color:#999">runtime</a> <a href="/blog/tags/sandbox/" style="font-size:14px;color:#999">sandbox</a> <a href="/blog/tags/响应式编程/" style="font-size:14px;color:#999">响应式编程</a> <a href="/blog/tags/图表/" style="font-size:14px;color:#999">图表</a> <a href="/blog/tags/开源库/" style="font-size:21.5px;color:#666">开源库</a> <a href="/blog/tags/架构/" style="font-size:14px;color:#999">架构</a> <a href="/blog/tags/沙盒/" style="font-size:14px;color:#999">沙盒</a> <a href="/blog/tags/缓存/" style="font-size:14px;color:#999">缓存</a> <a href="/blog/tags/随笔/" style="font-size:16.5px;color:#888">随笔</a> <a href="/blog/tags/静态库/" style="font-size:14px;color:#999">静态库</a></div></section><section class="list"><header class="pure"><div><i class="fas fa-medal fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;精选项目</div><a class="rightBtn" target="_blank" rel="external nofollow noopener noreferrer" href="https://xaoxuu.com/projects/" title="https://xaoxuu.com/projects/"><i class="fas fa-arrow-right fa-fw"></i></a></header><div class="content pure"><ul class="entry"><li><a class="flat-box" title="https://xaoxuu.com/wiki/axkit/" href="https://xaoxuu.com/wiki/axkit/"><div class="name"><i class="fas fa-cube fa-fw" aria-hidden="true"></i> &nbsp;&nbsp;AXKit</div><div class="badge">(iOS开源库)</div></a></li><li><a class="flat-box" title="https://xaoxuu.com/wiki/noticeboard/" href="https://xaoxuu.com/wiki/noticeboard/"><div class="name"><i class="fas fa-cube fa-fw" aria-hidden="true"></i> &nbsp;&nbsp;NoticeBoard</div><div class="badge">(iOS开源库)</div></a></li><li><a class="flat-box" title="https://xaoxuu.com/heartmate/" href="https://xaoxuu.com/heartmate/"><div class="name"><i class="fas fa-heartbeat fa-fw" aria-hidden="true"></i> &nbsp;&nbsp;HeartMate</div><div class="badge">(iOS应用程序)</div></a></li><li><a class="flat-box" title="https://xaoxuu.com/wiki/material-x/" href="https://xaoxuu.com/wiki/material-x/"><div class="name"><i class="fas fa-cube fa-fw" aria-hidden="true"></i> &nbsp;&nbsp;Material X</div><div class="badge">(Hexo博客主题)</div></a></li></ul></div></section><section class="list"><header class="pure"><div><i class="fas fa-link fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;特别链接</div></header><div class="content pure"><ul class="entry"><li><a class="flat-box" title="https://xaoxuu.com/about/" href="https://xaoxuu.com/about/"><div class="name"><i class="fas fa-comment-dots fa-fw" aria-hidden="true"></i> &nbsp;&nbsp;关于我 / 留言板</div></a></li></ul></div></section><section class="music"><header class="pure"><div><i class="fas fa-compact-disc fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;最近在听</div><a class="rightBtn" target="_blank" rel="external nofollow noopener noreferrer" href="https://music.163.com/#/user/home?id=63035382" title="https://music.163.com/#/user/home?id=63035382"><i class="far fa-heart fa-fw"></i></a></header><div class="content pure"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.css"><div class="aplayer" data-theme="#1BCDFC" data-mode="circulation" data-server="netease" data-type="playlist" data-id="746319661" data-volume="0.7"></div><script src="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script></div></section><section class="toc-wrapper"><header class="pure"><div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;文章目录</div><div class="wrapper"><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div></header><div class="content pure"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Runtime常见的应用场景有哪些？"><span class="toc-text">Runtime常见的应用场景有哪些？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#关联对象，给分类增加属性"><span class="toc-text">关联对象，给分类增加属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动态添加方法（performSelector）"><span class="toc-text">动态添加方法（performSelector）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-Swizzling-交换方法、拦截系统方法的调用"><span class="toc-text">Method Swizzling 交换方法、拦截系统方法的调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自动归档解档"><span class="toc-text">自动归档解档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#访问私有变量"><span class="toc-text">访问私有变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字典转模型的KVC实现"><span class="toc-text">字典转模型的KVC实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现万能控制器跳转"><span class="toc-text">实现万能控制器跳转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSPatch热更新"><span class="toc-text">JSPatch热更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KVO的底层实现"><span class="toc-text">KVO的底层实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OC方法调用流程是怎样的？"><span class="toc-text">OC方法调用流程是怎样的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#消息转发机制的理解和应用？"><span class="toc-text">消息转发机制的理解和应用？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-动态方法解析"><span class="toc-text">1. 动态方法解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-备用接收者"><span class="toc-text">2. 备用接收者</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-完整的消息转发"><span class="toc-text">3. 完整的消息转发</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何让多个方法指向同一个实现？"><span class="toc-text">如何让多个方法指向同一个实现？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#isa指针是什么？"><span class="toc-text">isa指针是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在分类中重写了原类中的方法，实际调用情况是怎样的？"><span class="toc-text">在分类中重写了原类中的方法，实际调用情况是怎样的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#成员变量的本质是什么？"><span class="toc-text">成员变量的本质是什么？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#成员变量的定义"><span class="toc-text">成员变量的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#属性的定义"><span class="toc-text">属性的定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RunLoop的作用是什么？"><span class="toc-text">RunLoop的作用是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RunLoop的几种mode？"><span class="toc-text">RunLoop的几种mode？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RunLoop和线程的关系"><span class="toc-text">RunLoop和线程的关系?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RunLoop有哪些应用？"><span class="toc-text">RunLoop有哪些应用？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#scrollView滑动（mode切换保证滑动不卡顿）"><span class="toc-text">scrollView滑动（mode切换保证滑动不卡顿）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RunLoop监听：AFNetworking中监听网络请求"><span class="toc-text">RunLoop监听：AFNetworking中监听网络请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NSTimer-timer触发"><span class="toc-text">NSTimer(timer触发)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象什么时候会被释放？"><span class="toc-text">对象什么时候会被释放？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#经典内存泄漏及解决方案？"><span class="toc-text">经典内存泄漏及解决方案？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#僵尸对象和野指针"><span class="toc-text">僵尸对象和野指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#循环引用"><span class="toc-text">循环引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#循环产生的内存峰值"><span class="toc-text">循环产生的内存峰值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重写dealloc方法"><span class="toc-text">重写dealloc方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#说说你所知道的排序算法及其时间复杂度？"><span class="toc-text">说说你所知道的排序算法及其时间复杂度？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何不用中间变量交换A和B？"><span class="toc-text">如何不用中间变量交换A和B？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#加减法"><span class="toc-text">加减法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#异或法"><span class="toc-text">异或法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#乘除法"><span class="toc-text">乘除法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多线程"><span class="toc-text">多线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网络"><span class="toc-text">网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#架构设计"><span class="toc-text">架构设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#蓝牙"><span class="toc-text">蓝牙</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Block"><span class="toc-text">Block</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UI"><span class="toc-text">UI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第三方库"><span class="toc-text">第三方库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#性能优化"><span class="toc-text">性能优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于AXKit"><span class="toc-text">关于AXKit</span></a></li></ol></div></section></aside><script>setLoadingBarProgress(60)</script></div><a class="s-top fas fa-arrow-up fa-fw" href="javascript:void(0)"></a></div><footer id="footer" class="clearfix"><div class="social-wrapper"><a href="/blog/atom.xml" class="social fas fa-rss flat-btn" target="_blank" rel="external"></a> <a href="mailto:me@xaoxuu.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external"></a> <a href="https://github.com/xaoxuu" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://twitter.com/xaoxuu" class="social fab fa-twitter flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://music.163.com/#/user/home?id=63035382" class="social fas fa-headphones-alt flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a></div><br><div><p>博客内容遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow noopener noreferrer" target="_blank">署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</a></p></div><div>本站使用 <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" class="codename">Material X</a> 作为主题，总访问量为 <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span> 次。</div></footer><script>setLoadingBarProgress(80)</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script><script>var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo",ROOT="/blog/";ROOT.endsWith("/")||(ROOT+="/")</script><script src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script><script type="text/javascript">$(function() {
        const $reveal = $('.reveal');
    		if ($reveal.length === 0) return;
    		const sr = ScrollReveal({ distance: 0 });
    		sr.reveal('.reveal');
      });</script><script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script><script type="text/javascript">$(function(){Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init()})</script><script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1/js/volantis.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter(function(i){return-1<GUEST_INFO.indexOf(i)}),notify=!1,verify=!1,valine=new Valine;valine.init({el:"#valine_container",notify:notify,verify:verify,guest_info:guest_info,appId:"9NJ4wSvxCJ4Yws4mbTq8WvuS-gzGzoHsz",appKey:"O33p1gnzt8aGUJDY5JwDTszJ",placeholder:"看了这篇文章有没有对你面试iOS有所帮助呢？",pageSize:"20",avatar:"mp",lang:"zh-cn",highlight:"false"})</script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.1.18/js/app.js"></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.1.18/js/search.js"></script><script>setLoadingBarProgress(100)</script><script>!function(o){var i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function c(t,e){var n=new Image,o=t.getAttribute("data-original");n.onload=function(){t.src=o,e&&e()},n.src=o}function n(){for(var t=0;t<i.length;t++)e=i[t],void 0,0<=(n=e.getBoundingClientRect()).top&&0<=n.left&&n.top<=(o.innerHeight||document.documentElement.clientHeight)&&c(i[t],function(){i.splice(t,t)});var e,n;console.log("trigger")}n(),o.addEventListener("scroll",function(){var t,e;t=n,e=o,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>